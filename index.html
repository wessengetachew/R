
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Boundary Cancellation Principle: An Analysis of Arithmetic Lattice Residues</title>
    <!-- MathJax for LaTeX rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Times New Roman', Times, serif;
            line-height: 1.6;
            color: #222;
            background-color: #fefefe;
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
            counter-reset: section;
        }
        
        /* Typography */
        h1 {
            font-size: 2.2rem;
            text-align: center;
            margin: 1.5rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #1a5fb4;
            color: #1a5fb4;
        }
        
        .author {
            text-align: center;
            font-style: italic;
            margin-bottom: 2rem;
            color: #555;
        }
        
        .author a {
            color: #1a5fb4;
            text-decoration: none;
        }
        
        .author a:hover {
            text-decoration: underline;
        }
        
        h2 {
            font-size: 1.6rem;
            margin: 1.5rem 0 0.8rem;
            color: #1a5fb4;
            counter-increment: section;
        }
        
        h2:before {
            content: counter(section) ". ";
        }
        
        h3 {
            font-size: 1.2rem;
            margin: 1.2rem 0 0.5rem;
            color: #333;
        }
        
        p {
            margin-bottom: 1rem;
            text-align: justify;
        }
        
        /* Abstract styling */
        .abstract {
            background-color: #f0f7ff;
            border-left: 4px solid #1a5fb4;
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        
        .abstract h3 {
            margin-top: 0;
            color: #1a5fb4;
        }
        
        /* Key results */
        .key-results {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 1.2rem;
            margin: 1.5rem 0;
        }
        
        .key-results h3 {
            margin-top: 0;
        }
        
        .key-results ul {
            padding-left: 1.5rem;
        }
        
        .key-results li {
            margin-bottom: 0.5rem;
        }
        
        /* Boxed formulas */
        .formula-box {
            background-color: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            padding: 1rem;
            margin: 1.2rem 0;
            text-align: center;
            overflow-x: auto;
        }
        
        .formula-box .formula-label {
            display: block;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #555;
            font-size: 0.9rem;
            text-align: left;
        }
        
        /* Table styling */
        .dimension-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .dimension-table th {
            background-color: #1a5fb4;
            color: white;
            padding: 0.8rem;
            text-align: left;
        }
        
        .dimension-table td {
            padding: 0.8rem;
            border-bottom: 1px solid #ddd;
        }
        
        .dimension-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .dimension-table tr:hover {
            background-color: #f0f7ff;
        }
        
        /* Implementation details */
        .implementation {
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 1.2rem;
            margin: 1.5rem 0;
        }
        
        .implementation h3 {
            margin-top: 0;
        }
        
        /* Bibliography */
        .bibliography {
            margin: 2rem 0;
        }
        
        .bibliography h3 {
            margin-bottom: 1rem;
        }
        
        .bib-item {
            margin-bottom: 0.8rem;
            padding-left: 1.5rem;
            text-indent: -1.5rem;
        }
        
        /* Footer */
        footer {
            text-align: center;
            margin-top: 3rem;
            padding-top: 1rem;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        footer .attribution {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        footer .social {
            margin-top: 0.5rem;
        }
        
        footer .social a {
            color: #1a5fb4;
            text-decoration: none;
        }
        
        footer .social a:hover {
            text-decoration: underline;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            h2 {
                font-size: 1.4rem;
            }
            
            .dimension-table {
                display: block;
                overflow-x: auto;
            }
        }
        
        /* Interactive elements */
        .interactive-controls {
            background-color: #f0f7ff;
            border: 1px solid #c5d9f0;
            border-radius: 5px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        
        .interactive-controls h4 {
            margin-top: 0;
            margin-bottom: 1.2rem;
            color: #1a5fb4;
            font-size: 1.1rem;
        }
        
        .slider-container {
            margin: 1rem 0;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            font-size: 0.95rem;
        }
        
        .slider-value {
            display: inline-block;
            min-width: 40px;
            font-weight: bold;
            color: #1a5fb4;
            font-size: 1.1rem;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #ddd;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }
        
        input[type="range"]:hover {
            opacity: 1;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #1a5fb4;
            cursor: pointer;
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #1a5fb4;
            cursor: pointer;
            border: none;
        }
        
        .calc-results {
            background-color: white;
            border: 1px solid #c5d9f0;
            border-radius: 5px;
            padding: 1rem;
            margin-top: 1.5rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        .calc-results p {
            margin-bottom: 0.5rem;
        }
        
        /* MathJax styling */
        .MathJax {
            font-size: 1.1em !important;
        }
        
        mjx-container[jax="CHTML"][display="true"] {
            margin: 1em 0 !important;
        }
        
        /* Highlight for interactive table */
        .highlighted {
            background-color: #e6f2ff !important;
            box-shadow: 0 0 0 2px #4d94ff;
        }
    </style>
</head>
<body>
    <header>
        <h1>The Boundary Cancellation Principle:<br>An Analysis of Arithmetic Lattice Residues</h1>
        <div class="author">
            By <strong>Wessen Getachew</strong> ¬∑ Twitter: <a href="https://twitter.com/7dview" target="_blank">@7dview</a>
        </div>
            <div style="margin-top: 10px; font-size: 11px;">
                <strong style="color: #4fc3f7;">Explore More:</strong>
                <a href="https://wessengetachew.github.io/finite/" target="_blank" style="color: #90caf9; margin: 0 4px;">Finite</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Primes/" target="_blank" style="color: #90caf9; margin: 0 4px;">Primes</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Farey/" target="_blank" style="color: #90caf9; margin: 0 4px;">Farey</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Composite/" target="_blank" style="color: #90caf9; margin: 0 4px;">Composite</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Ethiopian/" target="_blank" style="color: #90caf9; margin: 0 4px;">Ethiopian</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/GCD/" target="_blank" style="color: #90caf9; margin: 0 4px;">2œÄr</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/1-2/" target="_blank" style="color: #90caf9; margin: 0 4px;">1/2</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Rational-/" target="_blank" style="color: #90caf9; margin: 0 4px;">Rational</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Infinitemoduli/" target="_blank" style="color: #90caf9; margin: 0 4px;">Infinite Moduli</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Pythagorean-/" target="_blank" style="color: #90caf9; margin: 0 4px;">Pythagorean</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Transform/" target="_blank" style="color: #90caf9; margin: 0 4px;">Transform</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Phase/" target="_blank" style="color: #90caf9; margin: 0 4px;">Phase</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Gemini/" target="_blank" style="color: #90caf9; margin: 0 4px;">Gemini</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Rebuild/" target="_blank" style="color: #90caf9; margin: 0 4px;">Rebuild</a> ‚Ä¢
                <a href="https://wessengetachew.github.io/Goldbach/" target="_blank" style="color: #90caf9; margin: 0 4px;">Goldbach</a>
            </div>
        
        
    </header>
    
    <main>
        <section class="abstract">
            <h3>Abstract</h3>
            <p>In the limit as \(R \to \infty\), the density of coprime \(k\)-tuples in an integer lattice \(\mathbb{Z}^k\) converges to \(1/\zeta(k)\). However, for any finite search radius \(R\), a residual error term \(\Delta(R)\) exists. This project identifies this error not as stochastic noise, but as a deterministic geometric residue. We demonstrate that \(\Delta(R)\) is a function of the \((k-1)\) boundary shell of the \(k\)-cube, where the M√∂bius inversion engine is truncated by the finite search radius \(R\).</p>
        </section>
        
        <section>
            <h2>Key Results</h2>
            <div class="key-results">
                <ul>
                    <li><strong>Geometric Origin:</strong> The error term \(\Delta(R)\) is structurally concentrated at the truncation limits of the lattice.</li>
                    <li><strong>Dimensional Stability:</strong> The relative error decreases as \(k\) increases, as the volume \(R^k\) outpaces the boundary \(R^{k-1}\).</li>
                    <li><strong>Empirical Validation:</strong> Computational audits confirm that the "noise" in coprime counting correlates with the surface area of the manifold.</li>
                    <li><strong>Boundary Visualization:</strong> By highlighting lattice points on the surface of the cube \([1, R]^k\), we observe that \(\Delta(R)\) arises precisely from the incomplete cancellation cycle of the M√∂bius function at large divisors.</li>
                </ul>
            </div>
        </section>
        
        <section>
            <h2>Mathematical Foundation</h2>
            
            <h3>A. The Density Identity</h3>
            <p>The probability that \(k\) randomly chosen integers are coprime is given by the inverse of the Riemann Zeta Function:</p>
            <div class="formula-box">
                <span class="formula-label">Coprime Probability</span>
                \[ P(k) = \frac{1}{\zeta(k)} \]
            </div>
            
            <h3>B. The Counting Function</h3>
            <p>For a \(k\)-dimensional cube \([1, R]^k\), the counting function \(N(R)\) is defined as:</p>
            <div class="formula-box">
                <span class="formula-label">Coprime Lattice Points Count</span>
                \[ N(R) = \#\{ (x_1, \dots, x_k) \in [1, R]^k : \gcd(x_1, \dots, x_k) = 1 \} \]
            </div>
            
            <p>Using M√∂bius inversion:</p>
            <div class="formula-box">
                <span class="formula-label">M√∂bius Inversion Form</span>
                \[ N(R) = \sum_{d=1}^{R} \mu(d) \left\lfloor \frac{R}{d} \right\rfloor^k \]
            </div>
            
            <h3>C. Formal Definition of \(\Delta(R)\)</h3>
            <p>We define the error term as the difference between the discrete count and the continuous volume prediction:</p>
            <div class="formula-box">
                <span class="formula-label">Error Term Definition</span>
                \[ \Delta(R) = N(R) - \frac{R^k}{\zeta(k)} \]
            </div>
            
            <p>The classical asymptotic bounds for this error are:</p>
            <div class="formula-box">
                <span class="formula-label">Classical Error Bounds</span>
                \[
                \begin{aligned}
                &\text{For } k=2: \quad \Delta(R) = O(R \log R) \\
                &\text{For } k > 2: \quad \Delta(R) = O(R^{k-1})
                \end{aligned}
                \]
            </div>
        </section>
        
        <section>
            <h2>The Boundary Cancellation Principle</h2>
            <p>The core insight of this project is the visualization of the <em>Incomplete M√∂bius Sum</em>.</p>
            
            <p>The "Boundary" we isolate refers to the lattice points on the surface of the cube \([1, R]^k\). In our visualization, points satisfying \(\max(x_1, \dots, x_k) = R\) are highlighted. This reveals that the error \(\Delta(R)\) arises because the M√∂bius function \(\mu(d)\) cannot complete its cancellation cycle when the divisor \(d\) is large relative to \(R\). This truncation at the "geometric edge" prevents the density from reaching its perfect limit of \(1/\zeta(k)\).</p>
            
            <div class="formula-box">
                <span class="formula-label">Boundary Truncation Mechanism</span>
                \[
                \text{For } d \approx R: \quad \left\lfloor \frac{R}{d} \right\rfloor = 1 \Rightarrow \mu(d) \cdot 1^k = \mu(d)
                \]
                <p style="text-align: center; margin-top: 0.5rem; font-size: 0.9rem;">The cancellation engine fails to reach equilibrium at boundary divisors.</p>
            </div>
            
            <h3>Example: k=2, R=5</h3>
            <p>The M√∂bius sum:</p>
            <div class="formula-box">
                \[
                N(5) = \sum_{d=1}^{5} \mu(d) \left\lfloor \frac{5}{d} \right\rfloor^2
                \]
                \[
                = \mu(1)\cdot 25 + \mu(2)\cdot 4 + \mu(3)\cdot 1 + \mu(4)\cdot 1 + \mu(5)\cdot 1
                \]
                \[
                = 25 - 4 - 1 + 0 - 1 = 19
                \]
            </div>
            <p>Compare with the asymptotic prediction:</p>
            <div class="formula-box">
                \[
                \frac{5^2}{\zeta(2)} = \frac{25}{6/\pi^2} \approx \frac{25}{0.607927} \approx 20.132
                \]
                \[
                \Delta(5) = 19 - 20.132 \approx -1.132
                \]
            </div>
            <p>Notice how at \(d=4,5\) (the "boundary divisors"), \(\lfloor 5/d \rfloor = 1\), and \(\mu(4) + \mu(5) = 0 + (-1) = -1\) directly contributes to the error.</p>
        </section>
        
        <section>
            <h2>Dimensional Scaling (k=2 to k=12)</h2>
            <p>As we increase the dimension \(k\), the "Density Filter" becomes less aggressive, and the Main Term (\(R^k\)) grows significantly faster than the Boundary Term (\(R^{k-1}\)).</p>
            
            <table class="dimension-table">
                <thead>
                    <tr>
                        <th>Dimension (k)</th>
                        <th>Property</th>
                        <th>Boundary Geometry</th>
                        <th>Stability</th>
                        <th>Density \(1/\zeta(k)\)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>k=2</td>
                        <td>Squarefree/Coprime Pairs</td>
                        <td>Perimeter (\(R^1\))</td>
                        <td>Baseline</td>
                        <td>\(6/\pi^2 \approx 0.6079\)</td>
                    </tr>
                    <tr>
                        <td>k=3</td>
                        <td>Coprime Triples</td>
                        <td>Surface Area (\(R^2\))</td>
                        <td>High</td>
                        <td>\(1/\zeta(3) \approx 0.8319\)</td>
                    </tr>
                    <tr>
                        <td>k=4</td>
                        <td>Coprime Quadruples</td>
                        <td>3D Hypersurface (\(R^3\))</td>
                        <td>Very High</td>
                        <td>\(1/\zeta(4) \approx 0.9239\)</td>
                    </tr>
                    <tr>
                        <td>k=5</td>
                        <td>Coprime Quintuples</td>
                        <td>4D Hypersurface (\(R^4\))</td>
                        <td>Extreme</td>
                        <td>\(1/\zeta(5) \approx 0.9644\)</td>
                    </tr>
                    <tr>
                        <td>k=6</td>
                        <td>Coprime 6-tuples</td>
                        <td>5D Hypersurface (\(R^5\))</td>
                        <td>Extreme</td>
                        <td>\(1/\zeta(6) \approx 0.9829\)</td>
                    </tr>
                    <tr>
                        <td>k=8</td>
                        <td>Coprime Octuples</td>
                        <td>7D Hypersurface (\(R^7\))</td>
                        <td>Extreme+</td>
                        <td>\(1/\zeta(8) \approx 0.9959\)</td>
                    </tr>
                    <tr>
                        <td>k=10</td>
                        <td>Coprime 10-tuples</td>
                        <td>9D Hypersurface (\(R^9\))</td>
                        <td>Approaching 1</td>
                        <td>\(1/\zeta(10) \approx 0.9990\)</td>
                    </tr>
                    <tr>
                        <td>k=12</td>
                        <td>Coprime 12-tuples</td>
                        <td>11D Hypersurface (\(R^{11}\))</td>
                        <td>Nearly 1</td>
                        <td>\(1/\zeta(12) \approx 0.9998\)</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="interactive-controls">
                <h4>Explore Dimensional Scaling</h4>
                <div class="slider-container">
                    <label for="dimension-slider">Dimension \(k\): <span class="slider-value" id="dimension-value">3</span> (2 to 12)</label>
                    <input type="range" id="dimension-slider" min="2" max="12" value="3" step="1">
                </div>
                <div class="slider-container">
                    <label for="radius-slider">Radius \(R\): <span class="slider-value" id="radius-value">100</span> (10 to 1000)</label>
                    <input type="range" id="radius-slider" min="10" max="1000" value="100" step="10">
                </div>
                <div class="calc-results" id="scaling-output">
                    <p>For \(k = 3\), \(R = 100\):</p>
                    <p>Main term: \(R^k = 100^3 = 1,000,000\)</p>
                    <p>Boundary term: \(R^{k-1} = 100^2 = 10,000\)</p>
                    <p>Relative error: \(10,000 / 1,000,000 = 0.01 = 1.00\%\)</p>
                    <p>Density \(1/\zeta(3) \approx 0.8319\)</p>
                </div>
            </div>
        </section>
        
        <section>
            <h2>Implementation & Technical Details</h2>
            <div class="implementation">
                <h3>Computational Methodology</h3>
                <p>The accompanying simulation uses a brute-force GCD verification engine to audit these theoretical claims.</p>
                
                <h4>Algorithm</h4>
                <p>We employ a brute-force GCD verification using the Euclidean Algorithm (\(O(R^k \log R)\)) to ensure empirical accuracy, compared against the much faster M√∂bius sum (\(O(R)\)) for validation.</p>
                
                <h4>Zeta Computation</h4>
                <p>Values for \(\zeta(k)\) are computed using high-precision series expansions. For odd \(k\) (where closed forms like \(\pi^k/C\) do not exist), we use the Dirichlet series or specialized constants like Ap√©ry's constant (\(\zeta(3) \approx 1.2020569\)).</p>
                
                <h4>Technical Stack</h4>
                <ul>
                    <li><strong>Visualization:</strong> JavaScript (Canvas API) for real-time browser visualization</li>
                    <li><strong>High-range auditing:</strong> Python (SciPy/NumPy) for computational verification</li>
                    <li><strong>Data analysis:</strong> Jupyter notebooks for empirical validation</li>
                </ul>
                
                <h4>Empirical Validation Table</h4>
                <div style="overflow-x: auto; margin: 1rem 0;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background-color: #1a5fb4; color: white;">
                                <th style="padding: 0.5rem; text-align: center;">\(R\)</th>
                                <th style="padding: 0.5rem; text-align: center;">\(N(R)\) (k=2)</th>
                                <th style="padding: 0.5rem; text-align: center;">\(R^2/\zeta(2)\)</th>
                                <th style="padding: 0.5rem; text-align: center;">\(\Delta(R)\)</th>
                                <th style="padding: 0.5rem; text-align: center;">\(\Delta(R)/(R \log R)\)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 0.5rem; text-align: center;">10</td>
                                <td style="padding: 0.5rem; text-align: center;">63</td>
                                <td style="padding: 0.5rem; text-align: center;">60.79</td>
                                <td style="padding: 0.5rem; text-align: center;">2.21</td>
                                <td style="padding: 0.5rem; text-align: center;">0.096</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 0.5rem; text-align: center;">50</td>
                                <td style="padding: 0.5rem; text-align: center;">1,519</td>
                                <td style="padding: 0.5rem; text-align: center;">1,519.7</td>
                                <td style="padding: 0.5rem; text-align: center;">-0.7</td>
                                <td style="padding: 0.5rem; text-align: center;">-0.008</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 0.5rem; text-align: center;">100</td>
                                <td style="padding: 0.5rem; text-align: center;">6,087</td>
                                <td style="padding: 0.5rem; text-align: center;">6,079.3</td>
                                <td style="padding: 0.5rem; text-align: center;">7.7</td>
                                <td style="padding: 0.5rem; text-align: center;">0.017</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 0.5rem; text-align: center;">500</td>
                                <td style="padding: 0.5rem; text-align: center;">151,983</td>
                                <td style="padding: 0.5rem; text-align: center;">151,982.5</td>
                                <td style="padding: 0.5rem; text-align: center;">0.5</td>
                                <td style="padding: 0.5rem; text-align: center;">0.0002</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem; text-align: center;">1000</td>
                                <td style="padding: 0.5rem; text-align: center;">607,926</td>
                                <td style="padding: 0.5rem; text-align: center;">607,927.0</td>
                                <td style="padding: 0.5rem; text-align: center;">-1.0</td>
                                <td style="padding: 0.5rem; text-align: center;">-0.0001</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        
        <section class="bibliography">
            <h2>Bibliography</h2>
            <div class="bib-item">
                <strong>Hardy, G. H., & Wright, E. M.</strong> (1979). <em>An Introduction to the Theory of Numbers</em>. Oxford University Press. (Classical proofs for \(6/\pi^2\) density).
            </div>
            <div class="bib-item">
                <strong>Dirichlet, G. L.</strong> (1849). <em>√úber die Bestimmung der mittleren Werthe in der Zahlentheorie</em>. (Foundational work on lattice point problems).
            </div>
            <div class="bib-item">
                <strong>Mertens, F.</strong> (1874). <em>√úber einige asymptotische Gesetze der Zahlentheorie</em>. (Refinement of error bounds in arithmetic sums).
            </div>
            <div class="bib-item">
                <strong>Titchmarsh, E. C.</strong> (1986). <em>The Theory of the Riemann Zeta-Function</em>. Oxford Science Publications. (Connection between error terms and the Riemann Hypothesis).
            </div>
            <div class="bib-item">
                <strong>Ces√†ro, E.</strong> (1883). <em>Probabilit√© de certains faits arithm√©tiques</em>. (Early work on \(6/\pi^2\)).
            </div>
            <div class="bib-item">
                <strong>Pillai, S. S., & Chowla, S.</strong> (1930). <em>On the Error Terms in Some Asymptotic Formulae</em>. (For the \(k=2\) error bounds).
            </div>
        </section>
    </main>
    
    <footer>
        <div class="attribution">
            The Boundary Cancellation Principle: An Analysis of Arithmetic Lattice Residues
        </div>
        <div>¬© 2025 ¬∑ By Wessen Getachew</div>
        <div class="social">
            Twitter: <a href="https://twitter.com/7dview" target="_blank">@7dview</a>
        </div>
        <div style="margin-top: 0.8rem; font-size: 0.8rem;">
            For the 3Blue1Brown community and the mathematical world
        </div>
    </footer>
    
    <script>
        // Interactive dimension scaling calculator
        const dimensionSlider = document.getElementById('dimension-slider');
        const radiusSlider = document.getElementById('radius-slider');
        const dimensionValue = document.getElementById('dimension-value');
        const radiusValue = document.getElementById('radius-value');
        const scalingOutput = document.getElementById('scaling-output');
        
        // Zeta values for k=2 to k=12
        const zetaValues = {
            2: Math.PI**2 / 6,
            3: 1.202056903159594285399738161511449990764986292,
            4: Math.PI**4 / 90,
            5: 1.036927755143369926331365486457034168057080919,
            6: Math.PI**6 / 945,
            7: 1.008349277381922826839797549849796759599863560,
            8: Math.PI**8 / 9450,
            9: 1.002008392826082214417,
            10: Math.PI**10 / 93555,
            11: 1.000494188604119464558,
            12: Math.PI**12 / 638512875
        };
        
        function formatNumber(num) {
            if (num >= 1e9) {
                return (num / 1e9).toFixed(2) + ' billion';
            } else if (num >= 1e6) {
                return (num / 1e6).toFixed(2) + ' million';
            } else if (num >= 1e4) {
                return num.toLocaleString();
            } else {
                return num.toString();
            }
        }
        
        function formatScientific(num) {
            if (num === 0) return '0';
            if (Math.abs(num) < 0.0001) {
                return num.toExponential(4);
            } else if (Math.abs(num) < 0.01) {
                return num.toFixed(6);
            } else if (Math.abs(num) < 1) {
                return num.toFixed(4);
            } else if (num < 1000) {
                return num.toFixed(2);
            } else {
                return formatNumber(num);
            }
        }
        
        function updateScaling() {
            const k = parseInt(dimensionSlider.value);
            const R = parseInt(radiusSlider.value);
            
            dimensionValue.textContent = k;
            radiusValue.textContent = R;
            
            const mainTerm = Math.pow(R, k);
            const boundaryTerm = Math.pow(R, k-1);
            const relativeError = boundaryTerm / mainTerm;
            const density = 1 / zetaValues[k];
            
            scalingOutput.innerHTML = `
                <p>For \(k = ${k}\), \(R = ${R}\):</p>
                <p>Main term: \(R^k = ${R}^{${k}} = ${formatScientific(mainTerm)}\)</p>
                <p>Boundary term: \(R^{k-1} = ${R}^{${k-1}} = ${formatScientific(boundaryTerm)}\)</p>
                <p>Relative error: \(${formatScientific(boundaryTerm)} / ${formatScientific(mainTerm)} = ${relativeError.toExponential(4)} = ${(relativeError*100).toFixed(4)}\%\)</p>
                <p>Density \(1/\\zeta(${k}) \\approx ${density.toFixed(6)}\)</p>
            `;
            
            // Trigger MathJax to re-render the LaTeX
            if (window.MathJax) {
                MathJax.typesetPromise([scalingOutput]);
            }
        }
        
        dimensionSlider.addEventListener('input', updateScaling);
        radiusSlider.addEventListener('input', updateScaling);
        
        // Initialize
        updateScaling();
        
        // Add interactivity to table rows
        document.querySelectorAll('.dimension-table tbody tr').forEach(row => {
            row.addEventListener('click', function() {
                // Remove highlight from all rows
                document.querySelectorAll('.dimension-table tbody tr').forEach(r => {
                    r.classList.remove('highlighted');
                });
                // Add highlight to clicked row
                this.classList.add('highlighted');
                
                // Update sliders to match the clicked row
                const k = parseInt(this.cells[0].textContent);
                const R = parseInt(radiusSlider.value);
                
                if (k >= 2 && k <= 12) {
                    dimensionSlider.value = k;
                    updateScaling();
                }
            });
        });
        
        // Add keyboard navigation for accessibility
        document.addEventListener('keydown', function(e) {
            const activeElement = document.activeElement;
            
            if (activeElement.id === 'dimension-slider') {
                if (e.key === 'ArrowRight') {
                    dimensionSlider.value = Math.min(12, parseInt(dimensionSlider.value) + 1);
                    updateScaling();
                } else if (e.key === 'ArrowLeft') {
                    dimensionSlider.value = Math.max(2, parseInt(dimensionSlider.value) - 1);
                    updateScaling();
                }
            } else if (activeElement.id === 'radius-slider') {
                if (e.key === 'ArrowRight') {
                    radiusSlider.value = Math.min(1000, parseInt(radiusSlider.value) + 10);
                    updateScaling();
                } else if (e.key === 'ArrowLeft') {
                    radiusSlider.value = Math.max(10, parseInt(radiusSlider.value) - 10);
                    updateScaling();
                }
            }
        });
        
        // Add step buttons for sliders (optional enhancement)
        const addStepButtons = () => {
            const controls = document.querySelector('.interactive-controls');
            
            // Add dimension step buttons
            const dimContainer = dimensionSlider.parentElement;
            const dimButtons = document.createElement('div');
            dimButtons.innerHTML = `
                <button type="button" class="step-btn" data-target="dimension" data-change="-1">-1</button>
                <button type="button" class="step-btn" data-target="dimension" data-change="+1">+1</button>
            `;
            dimContainer.appendChild(dimButtons);
            
            // Add radius step buttons
            const radContainer = radiusSlider.parentElement;
            const radButtons = document.createElement('div');
            radButtons.innerHTML = `
                <button type="button" class="step-btn" data-target="radius" data-change="-50">-50</button>
                <button type="button" class="step-btn" data-target="radius" data-change="+50">+50</button>
            `;
            radContainer.appendChild(radButtons);
            
            // Style the buttons
            const style = document.createElement('style');
            style.textContent = `
                .step-btn {
                    margin: 5px 5px 0 0;
                    padding: 3px 8px;
                    background-color: #1a5fb4;
                    color: white;
                    border: none;
                    border-radius: 3px;
                    cursor: pointer;
                    font-size: 0.8rem;
                }
                .step-btn:hover {
                    background-color: #0d4a9e;
                }
            `;
            document.head.appendChild(style);
            
            // Add button click handlers
            document.querySelectorAll('.step-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const target = this.getAttribute('data-target');
                    const change = parseInt(this.getAttribute('data-change'));
                    
                    if (target === 'dimension') {
                        dimensionSlider.value = Math.max(2, Math.min(12, parseInt(dimensionSlider.value) + change));
                    } else if (target === 'radius') {
                        radiusSlider.value = Math.max(10, Math.min(1000, parseInt(radiusSlider.value) + change));
                    }
                    
                    updateScaling();
                });
            });
        };
        
        // Uncomment to add step buttons
        // addStepButtons();
    </script>
    <!-- Dark Mode Toggle -->
<button id="darkToggle" style="
  position: fixed;
  top: 15px;
  right: 15px;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 6px;
  border: 1px solid #888;
  background: #f0f0f0;
  z-index: 1000;
">
  üåô Dark Mode
</button>

<style>
  body.dark-mode {
    background-color: #121212;
    color: #e6e6e6;
  }

  body.dark-mode a {
    color: #8ab4f8;
  }

  body.dark-mode pre,
  body.dark-mode code {
    background-color: #1e1e1e;
    color: #dcdcdc;
  }

  body.dark-mode #darkToggle {
    background: #333;
    color: #eee;
    border-color: #666;
  }
</style>
/* MathJax boxed equations (dark mode fix) */
  body.dark-mode mjx-container[jax="CHTML"] {
    color: #e6e6e6;
  }

  body.dark-mode mjx-container[jax="CHTML"] mjx-box {
    border-color: #aaa !important;
    background-color: transparent !important;
  }

  body.dark-mode mjx-container[jax="CHTML"] mjx-mtd {
    border-color: #aaa !important;
  }
<script>
  const toggle = document.getElementById("darkToggle");

  if (localStorage.getItem("dark-mode") === "true") {
    document.body.classList.add("dark-mode");
    toggle.textContent = "‚òÄÔ∏è Light Mode";
  }

  toggle.addEventListener("click", () => {
    const enabled = document.body.classList.toggle("dark-mode");
    localStorage.setItem("dark-mode", enabled);

    toggle.textContent = enabled
      ? "‚òÄÔ∏è Light Mode"
      : "üåô Dark Mode";
  });
</script>
    <style>
  /* existing dark-mode body styles */
  body.dark-mode {
    background-color: #121212;
    color: #e6e6e6; /* main text */
  }

  body.dark-mode a {
    color: #8ab4f8;
  }

  body.dark-mode pre,
  body.dark-mode code {
    background-color: #1e1e1e;
    color: #dcdcdc;
  }

  body.dark-mode #darkToggle {
    background: #333;
    color: #eee;
    border-color: #666;
  }

  /* Dark-mode MathJax formulas (darker) */
  body.dark-mode mjx-container[jax="CHTML"] {
    color: #ffffff !important; /* make formula text bright white */
  }

  body.dark-mode mjx-container[jax="CHTML"] mjx-box {
    border-color: #ffffff !important; /* boxed formulas border brighter */
    background-color: transparent !important;
  }

  body.dark-mode mjx-container[jax="CHTML"] mjx-mtd {
    border-color: #ffffff !important;
  }
        </style>
</body>
</html>
